<!DOCTYPE HTML>
<html>

<head>

  <style type="text/css">
    body {
      background-color: black;
      color: white;
      font-family: 'Courier New', Courier, monospace;
    }

    body,
    html {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    .canvas-container {
      display: flex;
      justify-content: center;
    }

    #kaleidoscope_canvas {
      display: block;
    }

    .grayscale {
      filter: grayscale(100%);
    }

    #fullscreen-btn {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 10;
      padding: 10px;
      background-color: rgba(255, 255, 255, 0.3);
      border: none;
      color: white;
      cursor: pointer;
      font-family: 'Courier New', Courier, monospace;
    }

    #fullscreen-btn:hover {
      background-color: rgba(255, 255, 255, 0.5);
    }
  </style>


  <title>Kaleidoscope</title>
</head>

<body>

  <div class="canvas-container">
    <canvas id="kaleidoscope_canvas" role="presentation" width="1400" height="700"></canvas>
    <button id="fullscreen-btn">Full Screen</button>
  </div>

  <script src="draw.js"></script>
  <script>
    document.getElementById('fullscreen-btn').addEventListener('click', function() {
      var elem = document.documentElement;
      
      if (!document.fullscreenElement && !document.mozFullScreenElement &&
          !document.webkitFullscreenElement && !document.msFullscreenElement) {
        if (elem.requestFullscreen) {
          elem.requestFullscreen();
        } else if (elem.mozRequestFullScreen) { // Firefox
          elem.mozRequestFullScreen();
        } else if (elem.webkitRequestFullscreen) { // Chrome, Safari and Opera
          elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) { // IE/Edge
          elem.msRequestFullscreen();
        }
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.mozCancelFullScreen) {
          document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
          document.msExitFullscreen();
        }
      }
    });

    // Adjust canvas size on fullscreen change
    document.addEventListener('fullscreenchange', adjustCanvasSize);
    document.addEventListener('webkitfullscreenchange', adjustCanvasSize);
    document.addEventListener('mozfullscreenchange', adjustCanvasSize);
    document.addEventListener('MSFullscreenChange', adjustCanvasSize);

    function adjustCanvasSize() {
      var canvas = document.getElementById('kaleidoscope_canvas');
      if (document.fullscreenElement || document.webkitFullscreenElement ||
          document.mozFullScreenElement || document.msFullscreenElement) {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      } else {
        canvas.width = 1400;
        canvas.height = 700;
      }
      // Redraw the kaleidoscope here if necessary
      resizeCanvas();
    }

    // Add touch event listener for mobile devices
      document.getElementById('fullscreen-btn').addEventListener('touchend', function(e) {
      e.preventDefault(); // Prevent default touch behavior
      this.click(); // Trigger the click event
    });
  </script>
</body>

</html>
